<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Quartos</title>
  <link rel="stylesheet" href="/ListagemQuartos/ListagemQuartos.css">
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@1&display=swap" rel="stylesheet">
</head>

<body>

  <h1>Lista de Quartos Cadastrados</h1>
  <ul id="ListagemQuartos"></ul>

  <script>
    async function buscarQuartos() {
      const resposta = await fetch('http://localhost:8080/quartos'); // Altere para o seu endpoint
      const lista = document.getElementById('ListagemQuartos');

      if (resposta.status === 200) {
        const dados = await resposta.json();

        if (dados.length === 0) {
          lista.innerHTML = '<li style="text-align:center; font-style:italic; color:gray;">Nenhum quarto cadastrado.</li>';
        }

        dados.forEach(quarto => {
          const item = document.createElement('li');
          item.innerHTML = `
            <strong>Número do Quarto:</strong> ${quarto.numero}<br>
            <strong>Tipo:</strong> ${quarto.tipo}<br>
            <strong>Capacidade:</strong> ${quarto.capacidade} pessoas<br>
            <strong>Status:</strong> ${quarto.status}<br>
            <strong>Preço por Noite:</strong> R$ ${quarto.preco.toFixed(2)}
          `;
          lista.appendChild(item);
        });

      } else {
        if (resposta.status === 400) {
          const dados = await resposta.json();
          alert(dados.mensagem);
        } else {
          alert("Erro desconhecido ao buscar os quartos.");
        }
      }
    }

    buscarQuartos();

    document.getElementById('botão')?.addEventListener('click', () => {
      window.location.href = '/CadastroQuartos/CadastroQuartos.html';
    });
  </script>

</body>

</html>
